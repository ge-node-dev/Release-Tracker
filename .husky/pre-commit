#!/bin/bash
set -e 

GREEN='\033[0;32m'
BLUE='\033[0;34m'
YELLOW='\033[1;33m'
RED='\033[0;31m'
NC='\033[0m'

echo -e "\n${BLUE}üîπ –ó–∞–ø—É—Å–∫ Prettier...${NC}\n"
npm run format || { echo -e "${RED}‚ùå –û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è${NC}"; exit 1; }

echo -e "\n${YELLOW}üîπ –ó–∞–ø—É—Å–∫ ESLint...${NC}\n"
npm run lint || { echo -e "${RED}‚ùå –û—à–∏–±–∫–∞ –ª–∏–Ω—Ç–∏–Ω–≥–∞${NC}"; exit 1; }

echo -e "\n${YELLOW}üîπ –ó–∞–ø—É—Å–∫ Stylelint...${NC}\n"
npm run lint:styles || { echo -e "${RED}‚ùå –û—à–∏–±–∫–∞ –ª–∏–Ω—Ç–∏–Ω–≥–∞ —Å—Ç–∏–ª–µ–π${NC}"; exit 1; }

echo -e "\n${BLUE}üîπ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î...${NC}\n"
npm run test:queries || { echo -e "${RED}‚ùå –û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤${NC}"; exit 1; }

echo -e "\n${GREEN}‚úÖ Pre-commit —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à—ë–Ω!${NC}\n"
